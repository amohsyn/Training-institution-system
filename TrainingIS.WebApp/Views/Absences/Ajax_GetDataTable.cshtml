@model IEnumerable<TrainingIS.Models.Absences.Index_Absence_Model>
@using GApp.Models.Pages
@{
    Layout = null;
    Index_GAppPage IndexPage = ViewBag.index_page as Index_GAppPage;
}



<table id="Absences_entities" class="table table-striped table-bordered GAppDataTable_Component">


    @Html.Raw(@IndexPage.DataTable.TableHeaderBlock)
    <tbody>

        @foreach (var item in Model)
        {
            <tr id="@string.Format("{0}_{1}",item.GetType().Name,item.Id)">

                <td>@Html.GAppDisplayFor(modelItem => item.AbsenceDate)</td>
                <td>@item.Trainee.ToString()</td>
                <td>@item.Group.ToString()</td>
                <td>@Html.GAppDisplayFor(modelItem => item.isHaveAuthorization)</td>
                <td>@Html.GAppDisplayFor(modelItem => item.Description)</td>


                @if (ViewBag.HasPermission.ToAction("Validate"))
                {
                    <td>
                        @if (item.Valide)
                        {
                            <a href="@Url.Action("Unvalidate")/@item.Id" class="details validate_absence" title="Dévalider" data-toggle="tooltip" data-placement="top">
                                <i class="fa fa-bell-slash-o  fa-2x"></i>
                            </a>
                        }
                        else
                        {
                            <a href="@Url.Action("Validate")/@item.Id" class="details validate_absence" title="Valider" data-toggle="tooltip" data-placement="top">
                                <i class="fa fa-bell-o  fa-2x"></i>
                            </a>
                        }
                    </td>
                }

                <td>

                    @if (ViewBag.HasPermission.ToAction("Details"))
                    {
                        <a href="@Url.Action("Details")/@item.Id" class="link_action details " title="@msg_app.Details" data-toggle="tooltip" data-placement="top">
                            <i class="fa fa-info fa-2x"></i>
                        </a>
                    }
                    @if (ViewBag.HasPermission.ToAction("Edit"))
                    {
                        <a href="@Url.Action("Edit")/@item.Id" class="link_action edit" title="@msg_app.Edit" data-toggle="tooltip" data-placement="top">
                            <i class="fa fa-edit fa-2x"></i>
                        </a>
                    }
                    @if (ViewBag.HasPermission.ToAction("Delete"))
                    {
                        <a href="@Url.Action("Delete")/@item.Id" class="link_action delete" title="@msg_app.Delete" data-toggle="tooltip" data-placement="top">
                            <i class="fa fa-trash fa-2x"></i>
                        </a>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>

@Html.Raw(@IndexPage.DataTable.PagerLinksBlock)