@model IEnumerable<TrainingIS.Entities.ModelsViews.Sanction_Index_Model>
@using GApp.Models.Pages
@using TrainingIS.WebApp.Views.Sanctions.msgs
@{
    Layout = null;
    Index_GAppPage IndexPage = ViewBag.index_page as Index_GAppPage;
}
<table id="Sanctions_Entities" class="table table-striped table-bordered GAppDataTable_Component">
    @Html.Raw(@IndexPage.DataTable.TableHeaderBlock)
    <tbody>

        @foreach (var item in Model)
        {
            <tr id="@string.Format("{0}_{1}",item.GetType().Name,item.Id)">
                <td>@(item?.Trainee?.ToString())</td>
                <td>@(item?.SanctionCategory?.ToString())</td>
                <td>@Html.GAppDisplayFor(modelItem => item.SanctionState)</td>
                <td>@(item?.Meeting?.ToString())</td>

                <td>
                    @if (item.SanctionState == TrainingIS.Entities.enums.SanctionStates.Valid)
                    {
                        if (ViewBag.HasPermission.ToAction("Details"))
                        {
                            <a href="@Url.Action("Details")/@item.Id" class="link_action details " title="@msg_app.Details" data-toggle="tooltip" data-placement="top">
                                <i class="fa fa-info fa-2x"></i>
                            </a>
                        }
                        if (ViewBag.HasPermission.ToAction("Edit"))
                        {
                            <a href="@Url.Action("Edit")/@item.Id" class="link_action edit" title="@msg_app.Edit" data-toggle="tooltip" data-placement="top">
                                <i class="fa fa-edit fa-2x"></i>
                            </a>
                        }
                        if (ViewBag.HasPermission.ToAction("Delete"))
                        {
                            <a href="@Url.Action("Delete")/@item.Id" class="link_action delete" title="@msg_app.Delete" data-toggle="tooltip" data-placement="top">
                                <i class="fa fa-trash fa-2x"></i>
                            </a>
                        }
                    }
                    else
                    {
                        if (ViewBag.HasPermission.ToAction("Validate_Sanction"))
                        {
                            <a href="@Url.Action("Validate_Sanction")/@item.Id" class="link_action add" title="@msg_view_sanction.Add_and_validate_the_sanction" data-toggle="tooltip" data-placement="top">
                                <i class="fa fa-plus fa-2x"></i>
                            </a>
                        }
                    }

                </td>
            </tr>
        }
    </tbody>
</table>
@Html.Raw(@IndexPage.DataTable.PagerLinksBlock)
